services:
  app:
    build:
      dockerfile: Dockerfile
      target: development
    image: nka-web
    volumes:
      - ..:/var/www/html
    container_name: nka-app
    # Linux only
    extra_hosts:
      - host.docker.internal:host-gateway
    ports:
      - 80:8000
  database:
    build:
        dockerfile: Dockerfile-db
    ports:
      - 7474:7474 # Web interface
      - 7687:7687 # Bolt connection for web interface
    container_name: nka-database
    volumes:
      - ./database/data:/data

networks:
  default:
    name: nka
    driver: bridge
